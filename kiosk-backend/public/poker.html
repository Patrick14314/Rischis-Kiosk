<!doctype html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="apple-mobile-web-app-title" content="Rischis Kiosk" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="theme-color" content="#0f172a" />
    <title>Rischis Kiosk ‚Äì Zock Royale</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = { darkMode: 'class' };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
    <script src="poker.js" defer></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Poppins:wght@700&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" href="/favicon.jpeg" type="image/jpeg" />
    <style>
      html {
        background: linear-gradient(135deg, #d1fae5, #a7f3d0, #6ee7b7);
      }
      html.dark {
        background: linear-gradient(135deg, #0f172a, #1e293b, #334155);
        color-scheme: dark;
      }
      body {
        font-family: 'Inter', sans-serif;
        max-width: 100vw;
        overflow-x: hidden;
        padding: env(safe-area-inset-top) env(safe-area-inset-right)
          env(safe-area-inset-bottom) env(safe-area-inset-left);
      }
      h1 {
        font-family: 'Poppins', sans-serif;
      }
      .panel-shadow {
        box-shadow: 0 15px 35px rgba(22, 163, 74, 0.4);
      }
      .dark .panel-shadow {
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.6);
      }
      .glass-effect {
        backdrop-filter: blur(14px);
        background-color: rgba(255, 255, 255, 0.88);
      }
      .dark .glass-effect {
        background-color: rgba(31, 41, 55, 0.8);
      }
      input {
        background-color: white;
        color: black;
      }
      .dark input {
        background-color: #374151;
        color: white;
      }

      @keyframes win-pop {
        0% {
          transform: scale(0.8);
          opacity: 0;
        }
        50% {
          transform: scale(1.2);
          opacity: 1;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      .win-animation {
        color: #ffffff;
        font-weight: 700;
        font-size: 1.5rem;
        animation: win-pop 0.8s ease-out;
      }

      @keyframes lose-shake {
        0%,
        100% {
          transform: translateX(0);
        }
        20%,
        60% {
          transform: translateX(-10px);
        }
        40%,
        80% {
          transform: translateX(10px);
        }
      }

      .lose-animation {
        color: #ffffff;
        font-weight: 700;
        font-size: 1.5rem;
        animation: lose-shake 0.8s ease-in-out;
      }

      @keyframes balance-pop {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.2);
        }
        100% {
          transform: scale(1);
        }
      }

      .balance-update {
        animation: balance-pop 0.6s ease-out;
      }

      .result-card {
        padding: 0.75rem;
        border-radius: 1rem;
        font-weight: 700;
        margin-top: 0.5rem;
        color: white;
        transform: scale(0);
        opacity: 0;
        transition:
          transform 0.3s,
          opacity 0.3s;
      }
      .result-show {
        transform: scale(1);
        opacity: 1;
      }
      .result-win {
        background-color: #16a34a;
      }
      .result-lose {
        background-color: #dc2626;
      }

      #play {
        transition: transform 0.1s;
      }

      #play:active {
        transform: scale(0.95);
      }
    </style>
  </head>
  <body class="text-green-900 dark:text-white">
    <div class="fixed bottom-4 right-4 z-50">
      <button
        onclick="toggleDarkMode()"
        class="bg-gray-300/75 dark:bg-gray-700/75 text-black dark:text-white p-2 rounded-full shadow opacity-70 hover:opacity-100 transition"
      >
        üåô
      </button>
    </div>
    <div class="fixed top-4 left-4 z-50">
      <a
        href="dashboard.html"
        class="bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-3 rounded-full shadow text-sm"
      >
        ‚¨ÖÔ∏è Zur√ºck
      </a>
    </div>
    <div class="min-h-screen flex flex-col justify-center items-center p-6">
      <div
        class="w-full max-w-sm space-y-6 p-6 rounded-3xl panel-shadow border-4 border-green-300 dark:border-green-500 glass-effect animate-fade-in"
      >
        <h1 class="text-2xl font-bold text-center">Zock Royale</h1>
        <p class="text-center text-sm text-gray-700 dark:text-gray-300">
          Einsatz w√§hlen, auf <strong>Spielen</strong> klicken und die Daumen
          dr√ºcken. Vielleicht triffst du den Jackpot und kassierst das
          Vierfache!
        </p>
        <details class="text-sm text-gray-700 dark:text-gray-300">
          <summary class="cursor-pointer text-center">‚ùì Anleitung</summary>
          <ol class="list-decimal list-inside space-y-1 mt-2">
            <li>Seite aufrufen und einloggen.</li>
            <li>
              Einsatz w√§hlen, kurz Luft holen und <strong>Spielen</strong>.
            </li>
            <li>
              Mit 35&nbsp;% Chance verdoppelt sich dein Einsatz, 5&nbsp;%
              bringen den Jackpot.
            </li>
            <li>Verlierst du, freut sich der Kiosk. Also lieber Ma√ü halten!</li>
          </ol>
        </details>
        <p class="text-center">Guthaben: <span id="balance">0.00 ‚Ç¨</span></p>
        <div class="space-y-4">
          <input
            id="bet"
            type="number"
            min="1"
            step="0.01"
            placeholder="Einsatz ‚Ç¨"
            class="w-full p-2 rounded"
          />
          <div id="quick-bets" class="flex flex-wrap justify-center gap-2">
            <button
              type="button"
              data-bet="1"
              class="quick-bet bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded"
            >
              1 ‚Ç¨
            </button>
            <button
              type="button"
              data-bet="2"
              class="quick-bet bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded"
            >
              2 ‚Ç¨
            </button>
            <button
              type="button"
              data-bet="5"
              class="quick-bet bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded"
            >
              5 ‚Ç¨
            </button>
            <button
              type="button"
              data-bet="10"
              class="quick-bet bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded"
            >
              10 ‚Ç¨
            </button>
          </div>
          <div id="color-select" class="flex justify-center gap-2 mt-2">
            <button
              type="button"
              data-color="red"
              class="color-choice bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded"
            >
              Rot ‚ô•
            </button>
            <button
              type="button"
              data-color="black"
              class="color-choice bg-black hover:bg-gray-800 text-white px-3 py-1 rounded"
            >
              Schwarz ‚ô†
            </button>
          </div>
          <button
            id="play"
            class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"
          >
            Spielen
          </button>
          <div id="result-card" class="result-card text-center hidden">
            <span id="result"></span>
          </div>
        </div>
      </div>
    </div>
    <script>
      function toggleDarkMode() {
        const isDark = document.documentElement.classList.toggle('dark');
        localStorage.setItem('darkMode', isDark ? 'true' : 'false');
      }
      if (localStorage.getItem('darkMode') !== 'false') {
        document.documentElement.classList.add('dark');
      }
    </script>
  </body>
</html>
